name: Terraform Security Scan

on:
  push:
    branches: [ "main" ] # যখনই তুমি main ব্রাঞ্চে কোড পুশ করবে
  pull_request:
    branches: [ "main" ]

jobs:
  tfsec_scan:
    name: Run tfsec scan
    runs-on: ubuntu-latest # গিটহাবের একটি ভার্চুয়াল কম্পিউটারে এটি চলবে

    steps:
      - name: Checkout code
        uses: actions/checkout@v3 # তোমার কোড গিটহাব থেকে এই কম্পিউটারে আনবে

      - name: Run tfsec
        uses: aquasecurity/tfsec-action@v1.0.0 # অটোমেটিক tfsec রান করবে
        with:
          working_directory: .